local Atlas = loadstring(game:HttpGet("https://siegehub.net/Atlas.lua"))()

local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local Webhook_URL = "https://discord.com/api/webhooks/1096559118099169431/7mAbH3OpqiVDC5u5prdQm5CUXDXZyXtU4LseS5syW2m7Kwjdi08HnmbDz9JjUlFIL-2i"

local response

if request and type(request) == "function" then
    -- If using Fluxus, use request function
    response = request
else
    -- For other executors, use HttpService to make the request
    response = function(request)
        local responseBody = HttpService:RequestAsync(request)
        return {
            StatusCode = responseBody.StatusCode,
            Body = responseBody.Body,
            Headers = responseBody.Headers
        }
    end
end

local function incrementExecutionCount()
    -- Load the execution count from file
    local file = "execution_count.txt"
    local count = 0

    pcall(function()
        count = tonumber(readfile(file)) or 0
    end)

    -- Increment the count
    count = count + 1

    -- Save the updated count to file
    writefile(file, tostring(count))

    return count
end

-- Get the name of the current game
local gameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name

-- Get the username of the player
local playerName = Players.LocalPlayer and Players.LocalPlayer.Name or "Unknown"

-- Get the name of the executor
local executorName = getexecutorname() or "Unknown"

-- Increment the execution count
local executionCount = incrementExecutionCount()

-- Send the execution message to the webhook
local requestInfo = {
    Url = Webhook_URL,
    Method = "POST",
    Headers = {
        ["Content-Type"] = "application/json"
    },
    Body = HttpService:JSONEncode({
        content = string.format("Someone executed ToxicTDX!"),
        embeds = {
            {
                title = "Game: " .. gameName,
                description = "Player: " .. playerName .. "\nExecutor: " .. executorName .. "\nExecution Count: " .. executionCount,
                color = 0xB070E6 -- Darker purple color
            }
        }
    })
}

local result = response(requestInfo)
print(result.Body)


--[[hello there skids. you tryna get the source? your in luck today! check the source file ;) i gotchu covered]]--
--[[anyways, you smartasses that think you can get the key for fwee!! are stupid, just join the server lol.]]--
--[[For you people who keep track of TDX Updates, Here is the latest one
Updated Arm Wrestle Sim Script
Added Case opening simulator script]]--

local UI = Atlas.new({
    Name = "ToxicTDX | Key System";
    ConfigFolder = "TDX v2 key sys";
    Credit = "Made By ToxicManHimself";
    Color = Color3.fromRGB(255,0,0);
    Bind = "LeftControl";
    UseLoader = true;
    FullName = "ToxicTDX V2";
    CheckKey = function(inputtedKey)
        return inputtedKey=="TDXV2RELEASEEEEEEEEEEEE"
    end;
    Discord = "https://discord.gg/xu5dDS3Pb9";
})

local MyPage = UI:CreatePage("ToxicTDX Loader")
local MySection = MyPage:CreateSection("Loader")

-- Unsupported Executors for ToxicTDX V2
local UnsupportedExecutors = {
  "Oxygen U",
  "Evon",
  "Vega X",
  "Valyse",
  "Comet",
}

local executor = getexecutorname()

if table.find(UnsupportedExecutors, executor) then
  local FPS = 1
  local clock = tick()
  while true do
    while clock + 1 / FPS > tick() do end
    wait()
    clock = tick()
  end
end

MySection:CreateButton({
    Name = "Load ToxicTDX V2"; -- required: name of element
    Callback = function() -- required: function to be called when button is pressed
        if game.PlaceId == 2317712696 then 
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/ToxicTDX", true))()
elseif game.PlaceId == 4738545896 then 
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/Shoot%20Out", true))()
elseif game.PlaceId == 10905034443 then 
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/Smoothie%20Factory%20Tycoon", true))()
elseif game.PlaceId == 9872472334 then 
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/Evade", true))()
elseif game.PlaceId == 13284033561 then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/Fishing%20Frenzy", true))()
elseif game.PlaceId == 3068144257 then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/Taxi%20Sim", true))()
elseif game.PlaceId == 4972091010 then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/Zombie%20Uprising", true))()
elseif game.PlaceId == 6839171747 then
 loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/Doors", true))()
elseif game.PlaceId == 13127800756 then
loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/Arm%20Wrestle%20Simulator", true))()
else
loadstring(game:HttpGet("https://raw.githubusercontent.com/ToxicTDX/ToxicTDX-Hub/main/Universal", true))()
end
    end
})
